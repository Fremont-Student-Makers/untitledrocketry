<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Untitled Rocketry | High School Rocket Team</title>
  <!-- Place this in the <head> section -->
  <link rel="icon" href="graphics/favicon.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="assets/style.css">
</head>
  
<body>
<div id="navbar-container"></div>
  
<section class="hero-section">
    <h1>UNTITLED ROCKETRY</h1>
    <p>If we don't know what we're doing, neither does our competition.</p>
</section>
  
<section id="mission" class="fade-in-section">
  <h2>Mission</h2>
  <p>We choose to build rockets and do the other things not because they're easy, but because we thought they would be easy.</p>
</section>

<section id="accomplishments" class="fade-in-section">
  <h2>Accomplishments</h2>
  <div class="stats-container">
    <div class="stat">
      <h3 class="stat-number" data-target="60">0</h3>
      <p>Launches</p>
    </div>
    <div class="stat">
      <h3 class="stat-number" data-target="12">0</h3>
      <p>Rockets</p>
    </div>
    <div class="stat">
      <h3 class="stat-number" data-target="2">0</h3>
      <p>National Finalists</p>
    </div>
    <div class="stat">
      <h3 id="max-altitude" class="stat-number" data-target="1000">0</h3>
      <p>Max Altitude (ft)</p>
    </div>
  </div>
</section>

<section id="mission" class="fade-in-section">
  <h2>Goal</h2>
  <p>All of us love rockets, and only wish we were introduced to them sooner. Our goal is to spread the facinating process of engineering design, 3D printing, and rocketry to as many people as we can in our community.</p>
</section>

<section id="mission" class="fade-in-section">
  <h2>Partners</h2>
  <p>LUNAR - Livermore Unit of the National Association of Rocketry</p>
  <p>Fremont Student Makers</p>
  <p>Irvington Maker Club</p>
</section>
  
  <div id="footer-container"></div>
</section>

<!-- Container for the navbar -->

<script type="module">
    import { loadLayout } from './components/init.js'; // adjust path as needed
    loadLayout(); // call it here, not in `onload`
</script>

  
<script src="components/navbar.js"></script>
<script src="components/navbar-loader.js"></script>
  
<script>
// Fade-in on scroll
const faders = document.querySelectorAll('.fade-in-section');
const options = { threshold: 0.1 };
const observer = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
        if(entry.isIntersecting){
            entry.target.classList.add('visible');
            observer.unobserve(entry.target); // fade in only once
        }
    });
}, options);

faders.forEach(section => {observer.observe(section);
});

// Number animation
const animateNumbers = () => {
  const statNumbers = document.querySelectorAll('.stat-number');
  statNumbers.forEach(statNumber => {
    const target = +statNumber.getAttribute('data-target');
    let duration = 2000; // 2 seconds
    if (statNumber.id === 'max-altitude') {
      duration = 1000; // 1 second for max altitude
    }
    const stepTime = Math.abs(Math.floor(duration / target));
    let current = 0;
    const timer = setInterval(() => {
      current += 1;
      statNumber.textContent = current;
      if (current == target) {
        clearInterval(timer);
      }
    }, stepTime);
  });
};

// Intersection Observer for accomplishments section
const accomplishmentsSection = document.getElementById('accomplishments');
const accomplishmentsObserver = new IntersectionObserver((entries, observer) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      animateNumbers();
      observer.unobserve(entry.target); // Animate only once
    }
  });
}, { threshold: 0.5 });

accomplishmentsObserver.observe(accomplishmentsSection);
</script>

  
</body>
</html>
